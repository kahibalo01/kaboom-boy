<!-- 
	NOTE: TEST PAGE

	This page is meant to test mainly the `GameEngine` class. but also to a lesser extent the following classes:
		- GameStateManager
-->
<!DOCTYPE html>
<html>
	<head>
		<title>GameEngine Test</title>
		<link rel = "stylesheet" href = "../css/page_style.css"/>
		<script type = "text/javascript" src = "../js/Defines.js"></script>
		<script type = "text/javascript" src = "../js/GameStateManager.js"></script>
		<script type = "text/javascript" src = "../js/GameEngine.js"></script>
		<script>
			window.onload = (function(GameEngine, Defines){
				return function(){
					var ge = new GameEngine(document.getElementById("game-container"), Defines["FPS"], 640, 
						480, Defines["screen_scale"]);
					var gsm = ge.getGameStateManager();

					gsm.addState("test-state", {
						x: 0,
						y: 100,
						dx: 1,
						lowerBound: 0,
						upperBound: 300,

						init: function(){

						},

						update: function(){
							console.log("updating");
							this.x += this.dx;

							if(this.x > this.upperBound){
								this.dx = -1;
							}else
							if(this.x < this.lowerBound){
								this.dx = 1;
							}

						},

						render: function(ctx){
							ctx.fillRect(this.x, this.y, 20, 20);
						},
					});

					gsm.loadState("test-state");
					ge.run();
				}

			})(KaboomBoy.GameEngine, KaboomBoy.Defines);
		</script>
	</head>
	<body>
		<div id = "game-container"></div>
		<div id = "description">
			<h2>GameEngine Test</h2>
			<b>Expected Result: </b>A black square moves horizontally back and forth the canvas<br>
		</div>
	</body>
</html>