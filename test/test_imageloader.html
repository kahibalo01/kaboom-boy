<!DOCTYPE html>
<html>
	<head>
		<title>ImageLoader Test</title>
		<script type = "text/javascript" src = "../js/Defines.js"></script>
		<script type = "text/javascript" src = "../js/ResourceLoader.js"></script>
		<script>
			window.onload = function(){
				var il = new KaboomBoy.ImageLoader();
				il.queueLoadImage("brick", "../assets/img/New Folder/Brick.png");
				il.queueLoadImage("stone", "../assets/img/New Folder/Stone Block.png");
				il.queueLoadImage("metal", "../assets/img/New Folder/Metal Block.png");
				il.queueLoadImage("pillar", "../assets/img/New Folder/Pillar.png");

				il.loadAllImages(function(path, success, remaining){
					console.log("Loading " + path + " finished, result: " + (success ? "Success" : "Fail") + ". remaining: " + remaining);
				}, function(){
					var ctx = document.getElementById("canvas").getContext("2d");

					var images = {
						brick: il.getImage("brick"),
						stone: il.getImage("stone"),
						metal: il.getImage("metal"),
						pillar: il.getImage("pillar")
					};

					var w = 40;

					for(var i in images){
						if(images[i]){
							ctx.drawImage(images[i], 100 + (w += 40), 100, 40, 40);
						}else{
							console.log(i + " not drawn. invalid image. " + images[i]);
						}
					}

					//ctx.drawImage(il.getImage("brick"), 100, 100, 40, 40);
					//ctx.drawImage(il.getImage("stone"), 100, 140, 40, 40);
					//ctx.drawImage(il.getImage("metal"), 140, 100, 40, 40);
					//ctx.drawImage(il.getImage("pillar"), 140, 140, 40, 40);
				});

			}
		</script>
	</head>
	<body>
		<canvas id = "canvas" width = "600", height = "400"></canvas>
	</body>
</html>