<!-- 
	NOTE: TEST PAGE

	This page is meant to test the `ImageLoaer` class
-->
<!DOCTYPE html>
<html>
	<head>
		<title>ImageLoader Test</title>
		<link rel = "stylesheet" href = "../css/page_style.css"/>
		<script type = "text/javascript" src = "../js/Defines.js"></script>
		<script type = "text/javascript" src = "../js/ResourceLoader.js"></script>
		<script>
			window.onload = function(){
				var il = new KaboomBoy.ImageLoader();
				il.queueLoadImage("brick", "../assets/img/test/Brick.png");
				il.queueLoadImage("stone", "../assets/img/test/Stone.png");
				il.queueLoadImage("metal", "../assets/img/test/Metal.png");
				il.queueLoadImage("pillar", "../assets/img/test/Pillar.png");

				il.loadAllImages(function(path, success, remaining){
					console.log("Loading " + path + " finished, result: " + (success ? "Success" : "Fail") + ". remaining: " + remaining);
				}, function(){
					var ctx = document.getElementById("canvas").getContext("2d");

					var images = [
						il.getImage("brick"),
						il.getImage("stone"),
						il.getImage("metal"),
						il.getImage("pillar")						
					]

					var w = 40;

					for(var i = 0; i < images.length; i++){
						if(images[i]){
							ctx.drawImage(images[i], 180 + w, 180, 40, 40);
							w += 40; 
						}else{
							console.log(i + " not drawn. invalid image. " + images[i]);
						}
					}

				});

			}
		</script>
	</head>
	<body>
		<div id = "game-container">
			<canvas id = "canvas" width = "600", height = "400"></canvas>
		</div>
		<div id = "description">
			<h2>ImageLoader Test</h2>
			<b>Expected Result: </b>
			 4 Images will be drawn, in order: Brick, Stone, Metal, and Pillar(top-view). <br>
			 Console will log the status of the image load. <br>
		</div>	
	</body>
</html>